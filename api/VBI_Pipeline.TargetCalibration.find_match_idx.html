
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>find_match_idx &#8212; VBI_Pipeline v0.7.2</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700" />
    <link rel="stylesheet" type="text/css" href="../_static/dkist.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favico.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gen_debug_plots" href="VBI_Pipeline.TargetCalibration.gen_debug_plots.html" />
    <link rel="prev" title="find_intersections" href="VBI_Pipeline.TargetCalibration.find_intersections.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="col-md-3 navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://nso.edu"><img src="../_static/img/NSOlogo.gif">
        </a>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav hidden">
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">VBI Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IPA_access.html">Instrument Partner Testing Access</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">find_match_idx</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="VBI_Pipeline.TargetCalibration.find_intersections.html" title="Previous Chapter: find_intersections"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; find_intersections</span>
    </a>
  </li>
  <li>
    <a href="VBI_Pipeline.TargetCalibration.gen_debug_plots.html" title="Next Chapter: gen_debug_plots"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">gen_debug_plots &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>
          
            <ul class="nav navbar-nav navbar-left">
              <li><a href="http://dkist.nso.edu/">DKIST</a></li>
              <li><a href="http://docs.cadair.com/devdocs">DC Developer Guide</a></li>
              <li><a href="http://docs.cadair.com/datarate">DKIST Data Rate</a></li>
              <li><a href="http://docs.cadair.com/datamodel">DKIST Data Model</a></li>
            </ul>
          
          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">

    <div class="col-md-3"><div id="side-logo" >
            <a href="http://dkist.nso.edu">
                <img src="../_static/img/DKISTLogo-Medium.jpg">
            </a>
        </div><div id="sidebar" class="bs-sidenav" role="complementary">
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">VBI Pipeline Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough.html">Data Reduction Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Configuration File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IPA_access.html">Instrument Partner Testing Access</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Reference/API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-VBI_Pipeline.VBIPipeline">VBI_Pipeline.VBIPipeline Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-VBI_Pipeline.VBIStitch">VBI_Pipeline.VBIStitch Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-VBI_Pipeline.DarkCalibration">VBI_Pipeline.DarkCalibration Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-VBI_Pipeline.GainCalibration">VBI_Pipeline.GainCalibration Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../API.html#module-VBI_Pipeline.TargetCalibration">VBI_Pipeline.TargetCalibration Module</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../API.html#id6">Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.check_shifts.html">check_shifts</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.collect_intersections.html">collect_intersections</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.command_line.html">command_line</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.do_single_frame.html">do_single_frame</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.find_intersections.html">find_intersections</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">find_match_idx</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.gen_debug_plots.html">gen_debug_plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.generate_target_calibration.html">generate_target_calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.load_hough_pickle.html">load_hough_pickle</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.main.html">main</a></li>
<li class="toctree-l4"><a class="reference internal" href="VBI_Pipeline.TargetCalibration.make_binary_gauss.html">make_binary_gauss</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-VBI_Pipeline.Data">VBI_Pipeline.Data Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#module-VBI_Pipeline.generic">VBI_Pipeline.generic Module</a></li>
</ul>
</li>
</ul>

            
        </div>
    </div>

    <div class="col-md-9 content">
      
  <div class="section" id="find-match-idx">
<h1>find_match_idx<a class="headerlink" href="#find-match-idx" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="VBI_Pipeline.TargetCalibration.find_match_idx">
<code class="descclassname">VBI_Pipeline.TargetCalibration.</code><code class="descname">find_match_idx</code><span class="sig-paren">(</span><em>intsects_i</em>, <em>intsects_ref</em>, <em>dmax</em>, <em>ignore_dict=None</em>, <em>debug=None</em>, <em>i=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/VBI_Pipeline/TargetCalibration.html#find_match_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#VBI_Pipeline.TargetCalibration.find_match_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify intersections that are probably the same point and return their indices</p>
<p>The radial distances between ALL intersections are computed and any less than <code class="docutils literal notranslate"><span class="pre">dmax</span></code> are considered to be the same
points. Additionally, the algorithm ensures that a) only the minimum distance companion for each intersection is
used, and b) that no intersections are double counted.</p>
<p>The user can specify a set of match candidates to ignore via the <code class="docutils literal notranslate"><span class="pre">ignore_dict</span></code> keyword. This is useful if a
bimodal distribution of match offsets is suspected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>intsects_i</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.16)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Array of shape (2, M) containing the (X, Y) locations of the M intersections in the candidate image</p>
</div></blockquote>
<p><strong>intsects_ref</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.16)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Array of shape (2, N) containing the (X, Y) locations of the N intersections in the reference image</p>
</div></blockquote>
<p><strong>dmax</strong> : float</p>
<blockquote>
<div><p>Any match candidates with a radial distance greater than dmax are immediately excluded from consideration</p>
</div></blockquote>
<p><strong>ignore_dict</strong> : dict</p>
<blockquote>
<div><p>A dictionary with keys <code class="xref py py-obj docutils literal notranslate"><span class="pre">i_x</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">i_y</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">ref_x</span></code>, and <code class="xref py py-obj docutils literal notranslate"><span class="pre">ref_y</span></code> whose values are index arrays containing the match
candidates to ignore. For each element, the match between (<code class="xref py py-obj docutils literal notranslate"><span class="pre">i_x</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">i_y</span></code>) in the candidate frame and
(<code class="xref py py-obj docutils literal notranslate"><span class="pre">ref_x</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">ref_y</span></code>) in the reference frame will be considered bad, regardless of how close the two intersections
are to each other.</p>
</div></blockquote>
<p><strong>debug</strong> : dict or None</p>
<blockquote>
<div><p>If a dict is provided it will be updated with data useful to <a class="reference internal" href="VBI_Pipeline.TargetCalibration.gen_debug_plots.html#VBI_Pipeline.TargetCalibration.gen_debug_plots" title="VBI_Pipeline.TargetCalibration.gen_debug_plots"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gen_debug_plots</span></code></a></p>
</div></blockquote>
<p><strong>i</strong> : int</p>
<blockquote>
<div><p>The HDU index of the candidate frame. Only needed if <code class="docutils literal notranslate"><span class="pre">debug</span></code> is not None</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.16)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>The array that slices all matching points from intsects_i</p>
</div></blockquote>
<p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.16)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>The array that slices all matching points from intsects_ref</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <div class="left-footer">
         &copy; 2019, Arthur Eigenbrot
       <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    </div>
   
    <div class="right-footer">
      Last updated on 20 May 2019.
    </div>
    <div class="centre-footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5
    </div>
  </div>
</footer>
  </body>
</html>